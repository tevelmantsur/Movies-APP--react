{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97252\\\\Desktop\\\\New-App\\\\my-app\\\\src\\\\components\\\\AnimeHouse.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Card from './cards';\nimport SearchAnime from './SearchAnime';\nimport { useHistory } from \"react-router-dom\";\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\n\nfunction Movies() {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isBottom, setIsBottom] = useState(true);\n  const [page, setPage] = useState(0);\n  const LISTED_API = `https://kitsu.io/api/edge/anime?page[limit]=10&page[offset]=${page}`;\n  useEffect(() => {\n    if (isBottom) {\n      setPage(prev => prev + 20);\n      readData(LISTED_API);\n    }\n  }, [isBottom]); //FEATCHING API DATA , SET DATA , Set Loading //\n\n  const readData = API => {\n    setIsLoading(true);\n    fetch(API).then(res => res.json()).then(data => {\n      if (page === 0) {\n        setData(prev => [...data.data]);\n      }\n\n      if (page > 0) {\n        setData(prev => [...prev, ...data.data]);\n      }\n    }).then(() => {\n      setIsLoading(false);\n    });\n  }; //Listen to Scroll //\n\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []); //Set True if reach Buttom//\n\n  function handleScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\n      setIsBottom(true);\n    } else {\n      setIsBottom(false);\n    }\n  }\n\n  let history = useHistory();\n\n  function handleClick(e) {\n    history.push(\"/\" + e.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 1\n    }\n  }, isLoading ? null : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 3\n    }\n  }, data.map(e => /*#__PURE__*/React.createElement(Card, {\n    key: e.id,\n    star: e.attributes.averageRating,\n    id: e.id,\n    name: e.attributes.canonicalTitle,\n    img: e.attributes.posterImage.small,\n    description: e.attributes.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }))))));\n}\n\nexport default Movies;","map":{"version":3,"sources":["C:/Users/97252/Desktop/New-App/my-app/src/components/AnimeHouse.jsx"],"names":["React","useState","useEffect","Card","SearchAnime","useHistory","Skeleton","SkeletonTheme","Movies","data","setData","isLoading","setIsLoading","isBottom","setIsBottom","page","setPage","LISTED_API","prev","readData","API","fetch","then","res","json","window","addEventListener","handleScroll","removeEventListener","innerHeight","scrollY","document","body","offsetHeight","history","handleClick","e","push","target","value","map","id","attributes","averageRating","canonicalTitle","posterImage","small","description"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAAQC,UAAR,QAA2B,kBAA3B;AACA,OAAOC,QAAP,IAAmBC,aAAnB,QAAwC,wBAAxC;;AAGA,SAASC,MAAT,GAAiB;AAEjB,QAAM,CAACC,IAAD,EAAQC,OAAR,IAAmBT,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACU,SAAD,EAAaC,YAAb,IAA6BX,QAAQ,CAAC,IAAD,CAA3C;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACc,IAAD,EAAQC,OAAR,IAAmBf,QAAQ,CAAC,CAAD,CAAjC;AAGA,QAAMgB,UAAU,GAAG,+DAA8DF,IAAK,EAAtF;AAGAb,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIW,QAAJ,EAAc;AACTG,MAAAA,OAAO,CAAEE,IAAD,IAAQA,IAAI,GAAG,EAAhB,CAAP;AACDC,MAAAA,QAAQ,CAACF,UAAD,CAAR;AACH;AACF,GALM,EAKJ,CAACJ,QAAD,CALI,CAAT,CAXiB,CAkBjB;;AAEA,QAAMM,QAAQ,GAAIC,GAAD,IAAQ;AACrBR,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAS,IAAAA,KAAK,CAACD,GAAD,CAAL,CACEE,IADF,CACQC,GAAD,IAAOA,GAAG,CAACC,IAAJ,EADd,EAEEF,IAFF,CAEQb,IAAD,IAAQ;AACN,UAAGM,IAAI,KAAK,CAAZ,EAAc;AACXL,QAAAA,OAAO,CAACQ,IAAI,IAAI,CAAC,GAAGT,IAAI,CAACA,IAAT,CAAT,CAAP;AACF;;AAAA,UAAGM,IAAI,GAAG,CAAV,EAAY;AACVL,QAAAA,OAAO,CAACQ,IAAI,IAAI,CAAC,GAAGA,IAAJ,EAAU,GAAGT,IAAI,CAACA,IAAlB,CAAT,CAAP;AACF;AAGN,KAVJ,EAWAa,IAXA,CAWK,MAAI;AAACV,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAAoB,KAX9B;AAYF,GAdF,CApBiB,CAoCjB;;;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACZuB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,YAAlC;AACA,WAAO,MAAMF,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCD,YAArC,CAAb;AACD,GAHM,EAGJ,EAHI,CAAT,CAtCiB,CA4CjB;;AAEA,WAASA,YAAT,GAAuB;AACf,QAAKF,MAAM,CAACI,WAAP,GAAqBJ,MAAM,CAACK,OAA7B,IAAyCC,QAAQ,CAACC,IAAT,CAAcC,YAAd,GAA2B,GAAxE,EAA6E;AACzEnB,MAAAA,WAAW,CAAC,IAAD,CAAX;AACF,KAFF,MAEM;AACDA,MAAAA,WAAW,CAAC,KAAD,CAAX;AACH;AACT;;AAED,MAAIoB,OAAO,GAAG7B,UAAU,EAAxB;;AACA,WAAS8B,WAAT,CAAqBC,CAArB,EAAwB;AACpBF,IAAAA,OAAO,CAACG,IAAR,CAAa,MAAID,CAAC,CAACE,MAAF,CAASC,KAA1B;AACD;;AAIH,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEC5B,SAAS,GAAG,IAAH,gBACR;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACDF,IAAI,CAAC+B,GAAL,CAAUJ,CAAD,iBACJ,oBAAC,IAAD;AACA,IAAA,GAAG,EAAEA,CAAC,CAACK,EADP;AAEA,IAAA,IAAI,EAAEL,CAAC,CAACM,UAAF,CAAaC,aAFnB;AAGD,IAAA,EAAE,EAAEP,CAAC,CAACK,EAHL;AAIF,IAAA,IAAI,EAAEL,CAAC,CAACM,UAAF,CAAaE,cAJjB;AAKF,IAAA,GAAG,EAAER,CAAC,CAACM,UAAF,CAAaG,WAAb,CAAyBC,KAL5B;AAMF,IAAA,WAAW,EAAEV,CAAC,CAACM,UAAF,CAAaK,WANxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADL,CADC,CAHF,CAFA,CAHO,CAAP;AA2BC;;AACG,eAAevC,MAAf","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport Card from './cards'\r\nimport SearchAnime from './SearchAnime'\r\nimport {useHistory  } from \"react-router-dom\";\r\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\r\n\r\n\r\nfunction Movies(){\r\n\r\nconst [data , setData] = useState([])\r\nconst [isLoading , setIsLoading] = useState(true)\r\nconst [isBottom, setIsBottom] = useState(true);\r\nconst [page , setPage] = useState(0)\r\n\r\n\r\nconst LISTED_API= `https://kitsu.io/api/edge/anime?page[limit]=10&page[offset]=${page}`\r\n\r\n\r\nuseEffect(() => {\r\n    if (isBottom) { \r\n         setPage((prev)=>prev + 20)\r\n        readData(LISTED_API)\r\n    }\r\n  }, [isBottom]); \r\n\r\n//FEATCHING API DATA , SET DATA , Set Loading //\r\n\r\nconst readData = (API)=> {\r\n    setIsLoading(true)\r\n    fetch(API)\r\n     .then((res)=>res.json())\r\n     .then((data)=>{\r\n             if(page === 0){\r\n                setData(prev => [...data.data])\r\n             }if(page > 0){\r\n                setData(prev => [...prev, ...data.data])         \r\n             }     \r\n         \r\n \r\n       })\r\n   .then(()=>{setIsLoading(false)})\r\n }\r\n\r\n//Listen to Scroll //\r\n\r\nuseEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n\r\n//Set True if reach Buttom//\r\n\r\nfunction handleScroll(){\r\n        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight-100) {\r\n            setIsBottom(true)\r\n         }else{\r\n             setIsBottom(false)\r\n         }\r\n}\r\n\r\nlet history = useHistory()\r\nfunction handleClick(e) {\r\n    history.push(\"/\"+e.target.value);\r\n  }\r\n  \r\n\r\n\r\nreturn(<div>\r\n\r\n\r\n<div>\r\n\r\n<div>\r\n\r\n{isLoading ? null \r\n: <div  className=\"grid-container\">\r\n{data.map((e)=>\r\n      <Card \r\n      key={e.id}\r\n      star={e.attributes.averageRating}\r\n     id={e.id}\r\n    name={e.attributes.canonicalTitle}\r\n    img={e.attributes.posterImage.small}\r\n    description={e.attributes.description}\r\n    />\r\n    \r\n    )}\r\n\r\n</div>}\r\n\r\n</div>\r\n</div>\r\n\r\n</div>)\r\n}\r\n    export default Movies"]},"metadata":{},"sourceType":"module"}