{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97252\\\\Desktop\\\\New-App\\\\my-app\\\\src\\\\components\\\\newTest.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Card from './cards';\nimport SearchAnime from './SearchAnime';\n\nfunction Movies() {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [value, SetValue] = useState('');\n  const [isBottom, setIsBottom] = useState(true);\n  const [page, setPage] = useState(0);\n  const [show, setShow] = useState(false);\n  const [num, setNum] = useState(1);\n  const [singel, setSingel] = useState([]);\n  const [e, sete] = useState([{\n    data: [],\n    next: []\n  }]);\n  const [ClickedMoreEpi, setClickedMoreEpi] = useState(false);\n  const [LoadingEpisode, setLoadingEpisode] = useState(false);\n  const LISTED_API = `https://kitsu.io/api/edge/anime?page[limit]=10&page[offset]=${page}`;\n  const SEARCH_API = `https://kitsu.io/api/edge/anime?filter[text]=$`;\n  const SINGEL_API = `https://kitsu.io/api/edge/anime?filter[id]=`;\n  const EPISODE_API = `https://kitsu.io/api/edge/anime/${num}/episodes`;\n  const Youtube_link = `https://www.youtube.com/embed/`;\n  const AAA = 'https://kitsu.io/api/edge/anime/1/episodes?page%5Blimit%5D=10&page%5Boffset%5D=10';\n  useEffect(() => {\n    if (isBottom) {\n      if (value) {\n        return;\n      } else setPage(prev => prev + 20);\n\n      readData(LISTED_API);\n    }\n  }, [isBottom]); //FEATCHING API DATA , SET DATA , Set Loading //\n\n  const readData = API => {\n    setIsLoading(true);\n    fetch(API).then(res => res.json()).then(data => {\n      if (!value) {\n        if (page === 0) {\n          setData(prev => [...data.data]);\n        }\n\n        if (page > 0) {\n          setData(prev => [...prev, ...data.data]);\n        }\n      } else {\n        setData(prev => [...data.data]);\n      }\n    }).then(setIsLoading(false));\n  };\n\n  const readSingel = API => {\n    fetch(API).then(res => res.json()).then(data => {\n      setSingel(prev => [...data.data]);\n    });\n  };\n\n  useEffect(() => {\n    readSingel(SINGEL_API + num);\n  }, [num]);\n\n  const reade = API => {\n    fetch(API).then(res => res.json()).then(data => {\n      sete(prev => ({\n        data: data.data,\n        next: data.links.next,\n        loaded: true\n      }));\n    });\n  };\n\n  useEffect(() => {\n    reade(EPISODE_API);\n  }, [num]);\n\n  function ClickMe(A) {\n    setClickedMoreEpi(true);\n  }\n\n  useEffect(() => {\n    if (ClickedMoreEpi) {\n      fetch(e.next).then(res => res.json()).then(data => {\n        sete(prev => ({ ...prev,\n          data: [...prev.data, ...data.data],\n          next: data.links.next\n        }));\n      }).then(setLoadingEpisode(false));\n    } else return;\n  }, [ClickMe]);\n\n  function HideItemId(e) {\n    setNum(e.target.value);\n    setShow(true);\n  }\n\n  function ShownItemId() {\n    setClickedMoreEpi(false);\n    return setShow(false);\n  } //search handel//\n\n\n  function handelChange(e) {\n    const searchValue = e.target.value;\n    SetValue(searchValue);\n    readData(SEARCH_API + searchValue);\n\n    if (!searchValue) {\n      SetValue(null);\n      setData([]);\n      setPage(prev => prev * 0);\n      readData(LISTED_API);\n    }\n  } //Listen to Scroll //\n\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []); //Set True if reach Buttom//\n\n  function handleScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\n      setIsBottom(true);\n    } else {\n      setIsBottom(false);\n    }\n  } //close singel if ESC got clicked\n\n\n  useEffect(() => {\n    const close = e => {\n      if (e.keyCode === 27) {\n        ShownItemId();\n      }\n    };\n\n    window.addEventListener('keydown', close);\n    return () => window.removeEventListener('keydown', close);\n  }, []); //////////////////////////////////////\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(SearchAnime, {\n    change: e => {\n      handelChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 2\n    }\n  })), show && singel[0].attributes.canonicalTitle ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"centered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 1\n    }\n  }, singel[0].attributes.canonicalTitle), singel[0].attributes.coverImage == null ? /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"anime Charcter in japan\",\n    src: \"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/71b0a868-5bf0-4c2f-ba02-d7b6e81d78e6/d7t1lcx-f63e32f5-57af-431a-8f05-22d3d75a5414.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3sicGF0aCI6IlwvZlwvNzFiMGE4NjgtNWJmMC00YzJmLWJhMDItZDdiNmU4MWQ3OGU2XC9kN3QxbGN4LWY2M2UzMmY1LTU3YWYtNDMxYS04ZjA1LTIyZDNkNzVhNTQxNC5qcGcifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6ZmlsZS5kb3dubG9hZCJdfQ.9uc1GVEcMeAefdNRe10bFuWH5p1jomvOgNk3GrKyjUQ\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 2\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    alt: singel[0].attributes.canonicalTitle,\n    src: singel[0].attributes.coverImage.small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 1\n    }\n  }, singel[0].attributes.description), Youtube_link + singel[0].attributes.youtubeVideoId ? /*#__PURE__*/React.createElement(\"iframe\", {\n    src: Youtube_link + singel[0].attributes.youtubeVideoId,\n    frameBorder: \"0\",\n    allow: \"autoplay; encrypted-media\",\n    title: \"video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 53\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 2\n    }\n  }, e.data.map(e => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: e.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 12\n      }\n    }, e.attributes.canonicalTitle ? /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 6\n      }\n    }, \"Episode \", +e.attributes.number), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 6\n      }\n    }, e.attributes.canonicalTitle), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 6\n      }\n    }, e.attributes.airdate)) : 'this IS a MOive');\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    style: {\n      padding: \"5%\"\n    },\n    onClick: a => {\n      ClickMe(a);\n    },\n    value: num,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 2\n    }\n  }, \"Load All episodes\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: ShownItemId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 8\n    }\n  }, \"to Close Click here or Press \\\"ESC\\\"\")))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 1\n    }\n  }, isLoading ? 'Loading...' : data.map(e => /*#__PURE__*/React.createElement(Card, {\n    key: e.id,\n    id: e.id,\n    name: e.attributes.canonicalTitle,\n    img: e.attributes.posterImage.small,\n    description: e.attributes.description,\n    showOn: ShownItemId,\n    showOff: HideItemId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }))));\n}\n\nexport default Movies;","map":{"version":3,"sources":["C:/Users/97252/Desktop/New-App/my-app/src/components/newTest.jsx"],"names":["React","useState","useEffect","Card","SearchAnime","Movies","data","setData","isLoading","setIsLoading","value","SetValue","isBottom","setIsBottom","page","setPage","show","setShow","num","setNum","singel","setSingel","e","sete","next","ClickedMoreEpi","setClickedMoreEpi","LoadingEpisode","setLoadingEpisode","LISTED_API","SEARCH_API","SINGEL_API","EPISODE_API","Youtube_link","AAA","prev","readData","API","fetch","then","res","json","readSingel","reade","links","loaded","ClickMe","A","HideItemId","target","ShownItemId","handelChange","searchValue","window","addEventListener","handleScroll","removeEventListener","innerHeight","scrollY","document","body","offsetHeight","close","keyCode","attributes","canonicalTitle","coverImage","small","description","youtubeVideoId","map","id","number","airdate","padding","a","posterImage"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport Card from './cards'\r\nimport SearchAnime from './SearchAnime'\r\n\r\n\r\nfunction Movies(){\r\n\r\nconst [data , setData] = useState([])\r\nconst [isLoading , setIsLoading] = useState(true)\r\nconst [value , SetValue] = useState('')\r\nconst [isBottom, setIsBottom] = useState(true);\r\nconst [page , setPage] = useState(0)\r\nconst [show, setShow] = useState(false)\r\nconst [num , setNum]= useState(1)\r\nconst [singel , setSingel] = useState([])\r\nconst [e , sete] = useState([{data:[], next:[]}])\r\nconst [ClickedMoreEpi , setClickedMoreEpi ] = useState(false)\r\nconst [LoadingEpisode , setLoadingEpisode ] = useState(false)\r\n\r\n\r\n\r\nconst LISTED_API= `https://kitsu.io/api/edge/anime?page[limit]=10&page[offset]=${page}`\r\nconst SEARCH_API = `https://kitsu.io/api/edge/anime?filter[text]=$`\r\nconst SINGEL_API = `https://kitsu.io/api/edge/anime?filter[id]=`\r\nconst EPISODE_API = `https://kitsu.io/api/edge/anime/${num}/episodes`\r\nconst Youtube_link = `https://www.youtube.com/embed/`\r\nconst AAA = 'https://kitsu.io/api/edge/anime/1/episodes?page%5Blimit%5D=10&page%5Boffset%5D=10'\r\n\r\nuseEffect(() => {\r\n    if (isBottom) { \r\n        if(value){\r\n            return\r\n        }else\r\n        setPage((prev)=>prev + 20)\r\n        readData(LISTED_API)\r\n    }\r\n  }, [isBottom]); \r\n\r\n//FEATCHING API DATA , SET DATA , Set Loading //\r\n\r\nconst readData = (API)=> {\r\n    setIsLoading(true)\r\n    fetch(API)\r\n     .then((res)=>res.json())\r\n     .then((data)=>{\r\n         if(!value){\r\n             if(page === 0){\r\n                setData(prev => [...data.data])\r\n             }if(page > 0){\r\n                setData(prev => [...prev, ...data.data])         \r\n             }     \r\n         }else {\r\n             setData((prev)=>[...data.data])\r\n         }\r\n \r\n       })\r\n     .then(setIsLoading(false))\r\n   \r\n }\r\n\r\n const readSingel = (API)=>{\r\n     fetch(API)\r\n     .then((res)=>res.json())\r\n     .then((data)=>{\r\n         setSingel((prev)=>[...data.data])    \r\n     })\r\n \r\n }\r\n\r\nuseEffect(()=>{\r\nreadSingel(SINGEL_API+num)\r\n},[num])\r\n\r\n\r\n\r\nconst reade = (API)=>{\r\n    fetch(API)\r\n    .then((res)=>res.json())\r\n    .then((data)=>{\r\n            sete(prev=> ({\r\n                data: data.data,\r\n                 next: data.links.next ,\r\n                 loaded: true\r\n                }))\r\n            }) \r\n   \r\n}\r\n\r\nuseEffect(()=>{\r\n        reade(EPISODE_API)\r\n    },[num])\r\n    \r\n\r\n    function ClickMe(A){\r\n       setClickedMoreEpi(true)\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n             if(ClickedMoreEpi){\r\n                fetch(e.next)\r\n                .then((res)=>res.json())\r\n                .then((data)=>{\r\n                    sete((prev => ({...prev, data: [...prev.data ,...data.data], next:data.links.next})))\r\n                    \r\n                })  \r\n            .then(setLoadingEpisode(false))\r\n             }else return \r\n                \r\n      \r\n    }, [ClickMe])\r\n    \r\n\r\nfunction HideItemId(e){\r\n    setNum(e.target.value)\r\n    setShow(true)  \r\n    \r\n}\r\n\r\nfunction ShownItemId(){\r\n    setClickedMoreEpi(false)\r\n    return setShow(false) \r\n\r\n}\r\n\r\n\r\n//search handel//\r\n\r\nfunction handelChange(e){\r\n    const searchValue = e.target.value\r\n        SetValue( searchValue)\r\n        readData(SEARCH_API+searchValue)\r\n\r\n        if (!searchValue){\r\n        SetValue(null)\r\n        setData([])\r\n        setPage((prev)=>prev  * 0)\r\n        readData(LISTED_API) \r\n        }\r\n\r\n}\r\n//Listen to Scroll //\r\n\r\nuseEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n\r\n//Set True if reach Buttom//\r\n\r\nfunction handleScroll(){\r\n        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight-100) {\r\n            setIsBottom(true)\r\n         }else{\r\n             setIsBottom(false)\r\n         }\r\n}\r\n\r\n//close singel if ESC got clicked\r\n\r\nuseEffect(() => {\r\n    const close = (e) => {\r\n      if(e.keyCode === 27){\r\n       ShownItemId()\r\n      }\r\n    }\r\n    window.addEventListener('keydown', close)\r\n  return () => window.removeEventListener('keydown', close)\r\n},[])\r\n\r\n\r\n\r\n //////////////////////////////////////\r\n    \r\nreturn(<div>\r\n\r\n<header>\r\n   \r\n <SearchAnime change={(e)=>{handelChange(e)}}/>\r\n\r\n</header>\r\n\r\n{show && singel[0].attributes.canonicalTitle ? \r\n<div className=\"centered\">\r\n<div>\r\n<h1 >{singel[0].attributes.canonicalTitle}</h1>  \r\n{singel[0].attributes.coverImage == null ?\r\n <img alt=\"anime Charcter in japan\" src=\"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/71b0a868-5bf0-4c2f-ba02-d7b6e81d78e6/d7t1lcx-f63e32f5-57af-431a-8f05-22d3d75a5414.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3sicGF0aCI6IlwvZlwvNzFiMGE4NjgtNWJmMC00YzJmLWJhMDItZDdiNmU4MWQ3OGU2XC9kN3QxbGN4LWY2M2UzMmY1LTU3YWYtNDMxYS04ZjA1LTIyZDNkNzVhNTQxNC5qcGcifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6ZmlsZS5kb3dubG9hZCJdfQ.9uc1GVEcMeAefdNRe10bFuWH5p1jomvOgNk3GrKyjUQ\"/>  \r\n : <img alt={singel[0].attributes.canonicalTitle} src={singel[0].attributes.coverImage.small}/> }\r\n<p>{singel[0].attributes.description}</p>\r\n{Youtube_link+singel[0].attributes.youtubeVideoId ? <iframe src= {Youtube_link+singel[0].attributes.youtubeVideoId}\r\n        frameBorder='0'\r\n        allow='autoplay; encrypted-media'\r\n        title='video'\r\n/>\r\n : null}\r\n\r\n \r\n<div></div>\r\n \r\n <div className=\"grid-container\">\r\n {e.data.map((e)=>{\r\n    return <div key={e.id}> \r\n    {e.attributes.canonicalTitle ? <ul> \r\n     <li>Episode {+e.attributes.number}</li>\r\n     <li >{e.attributes.canonicalTitle}</li>\r\n     <li>{e.attributes.airdate}</li> \r\n     \r\n     </ul> : 'this IS a MOive'}\r\n</div>\r\n })}\r\n </div>\r\n <button style={{padding:\"5%\"}} onClick={(a)=>{ClickMe(a)}} value={num}>Load All episodes</button>\r\n  <div><button onClick={ShownItemId}>to Close Click here or Press \"ESC\"</button></div>\r\n\r\n \r\n</div>\r\n\r\n\r\n</div>\r\n\r\n: null }\r\n\r\n<div className=\"grid-container\">\r\n\r\n{isLoading ? 'Loading...' : data.map(e=>\r\n      <Card \r\n      key={e.id}\r\n     id={e.id}\r\n    name={e.attributes.canonicalTitle}\r\n    img={e.attributes.posterImage.small}\r\n    description={e.attributes.description}\r\n    showOn={ShownItemId} \r\n    showOff={HideItemId} \r\n\r\n    />)}\r\n\r\n</div>\r\n\r\n\r\n</div>)\r\n}\r\n    export default Movies"]},"metadata":{},"sourceType":"module"}