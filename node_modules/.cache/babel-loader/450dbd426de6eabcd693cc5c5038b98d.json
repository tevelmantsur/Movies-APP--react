{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97252\\\\Desktop\\\\New-App\\\\my-app\\\\src\\\\components\\\\AnimeHouse.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Card from './cards';\nimport SearchAnime from './SearchAnime';\nimport SingelAnime from './SingelAnime';\nimport { useTransition, animated } from 'react-spring';\n\nfunction Movies() {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [value, SetValue] = useState();\n  const [isBottom, setIsBottom] = useState(true);\n  const [page, setPage] = useState(0);\n  const [show, setShow] = useState(false);\n  const [num, setNum] = useState(1);\n  const LISTED_API = `https://kitsu.io/api/edge/anime?page[limit]=10&page[offset]=${page}`;\n  const SEARCH_API = `https://kitsu.io/api/edge/anime?filter[text]=$`;\n  useEffect(() => {\n    if (isBottom) {\n      if (value) {\n        return;\n      } else setPage(prev => prev + 20);\n\n      readData(LISTED_API);\n    }\n  }, [isBottom]); //FEATCHING API DATA , SET DATA , Set Loading //\n\n  const readData = API => {\n    setIsLoading(true);\n    fetch(API).then(res => res.json()).then(data => {\n      if (!value) {\n        if (page === 0) {\n          setData(prev => [...data.data]);\n        }\n\n        if (page > 0) {\n          setData(prev => [...prev, ...data.data]);\n        }\n      } else {\n        setData(prev => [...data.data]);\n      }\n    }).then(setIsLoading(false));\n  };\n\n  function HideItemId(e) {\n    setNum(e.target.value);\n    setShow(true);\n  }\n\n  function ShownItemId() {\n    return setShow(false);\n  } //search handel//\n\n\n  function handelChange(e) {\n    const searchValue = e.target.value;\n    SetValue(searchValue);\n    readData(SEARCH_API + searchValue);\n\n    if (!searchValue) {\n      SetValue(null);\n      setData([]);\n      setPage(prev => prev * 0);\n      readData(LISTED_API);\n    }\n  } //Listen to Scroll //\n\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []); //Set True if reach Buttom//\n\n  function handleScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\n      setIsBottom(true);\n    } else {\n      setIsBottom(false);\n    }\n  } //close singel if ESC got clicked\n\n\n  useEffect(() => {\n    const close = e => {\n      if (e.keyCode === 27) {\n        ShownItemId();\n      }\n    };\n\n    window.addEventListener('keydown', close);\n    return () => window.removeEventListener('keydown', close);\n  }, []); //////////////////////////////////////\n\n  const transitions = useTransition(data, item => item.key, {\n    from: {\n      transform: 'translate3d(0,-40px,0)'\n    },\n    enter: {\n      transform: 'translate3d(0,0px,0)'\n    },\n    leave: {\n      transform: 'translate3d(0,-40px,0)'\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(SearchAnime, {\n    change: e => {\n      handelChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 2\n    }\n  })), show ? /*#__PURE__*/React.createElement(SingelAnime, {\n    cardNumber: num,\n    showOn: ShownItemId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 1\n    }\n  }, isLoading ? 'Loading...' : data.map(e => /*#__PURE__*/React.createElement(Card, {\n    key: e.id,\n    id: e.id,\n    name: e.attributes.canonicalTitle,\n    img: e.attributes.posterImage.small,\n    description: e.attributes.description,\n    showOn: ShownItemId,\n    showOff: HideItemId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }))), transitions.map(({\n    item,\n    props,\n    key\n  }) => /*#__PURE__*/React.createElement(animated.div, {\n    key: key,\n    style: props,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 1\n    }\n  }, show ? /*#__PURE__*/React.createElement(SingelAnime, {\n    cardNumber: num,\n    showOn: ShownItemId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 47\n    }\n  }) : null)));\n}\n\nexport default Movies;","map":{"version":3,"sources":["C:/Users/97252/Desktop/New-App/my-app/src/components/AnimeHouse.jsx"],"names":["React","useState","useEffect","Card","SearchAnime","SingelAnime","useTransition","animated","Movies","data","setData","isLoading","setIsLoading","value","SetValue","isBottom","setIsBottom","page","setPage","show","setShow","num","setNum","LISTED_API","SEARCH_API","prev","readData","API","fetch","then","res","json","HideItemId","e","target","ShownItemId","handelChange","searchValue","window","addEventListener","handleScroll","removeEventListener","innerHeight","scrollY","document","body","offsetHeight","close","keyCode","transitions","item","key","from","transform","enter","leave","map","id","attributes","canonicalTitle","posterImage","small","description","props"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport Card from './cards'\r\nimport SearchAnime from './SearchAnime'\r\nimport SingelAnime from './SingelAnime'\r\nimport {useTransition, animated} from 'react-spring'\r\n\r\n\r\n\r\nfunction Movies(){\r\n\r\nconst [data , setData] = useState([])\r\nconst [isLoading , setIsLoading] = useState(true)\r\nconst [value , SetValue] = useState()\r\nconst [isBottom, setIsBottom] = useState(true);\r\nconst [page , setPage] = useState(0)\r\nconst [show, setShow] = useState(false)\r\nconst [num , setNum]= useState(1)\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst LISTED_API= `https://kitsu.io/api/edge/anime?page[limit]=10&page[offset]=${page}`\r\nconst SEARCH_API = `https://kitsu.io/api/edge/anime?filter[text]=$`\r\n\r\n\r\nuseEffect(() => {\r\n    if (isBottom) { \r\n        if(value){\r\n            return\r\n        }else\r\n        setPage((prev)=>prev + 20)\r\n        readData(LISTED_API)\r\n    }\r\n  }, [isBottom]); \r\n\r\n//FEATCHING API DATA , SET DATA , Set Loading //\r\n\r\nconst readData = (API)=> {\r\n    setIsLoading(true)\r\n    fetch(API)\r\n     .then((res)=>res.json())\r\n     .then((data)=>{\r\n         if(!value){\r\n             if(page === 0){\r\n                setData(prev => [...data.data])\r\n             }if(page > 0){\r\n                setData(prev => [...prev, ...data.data])         \r\n             }     \r\n         }else {\r\n             setData((prev)=>[...data.data])\r\n         }\r\n \r\n       })\r\n     .then(setIsLoading(false))\r\n   \r\n }\r\n\r\n\r\nfunction HideItemId(e){\r\n    setNum(e.target.value)\r\n    setShow(true)  \r\n    \r\n}\r\n\r\nfunction ShownItemId(){\r\n    return setShow(false) \r\n\r\n}\r\n\r\n\r\n//search handel//\r\n\r\nfunction handelChange(e){\r\n    const searchValue = e.target.value\r\n        SetValue( searchValue)\r\n        readData(SEARCH_API+searchValue)\r\n\r\n        if (!searchValue){\r\n        SetValue(null)\r\n        setData([])\r\n        setPage((prev)=>prev  * 0)\r\n        readData(LISTED_API) \r\n        }\r\n\r\n}\r\n//Listen to Scroll //\r\n\r\nuseEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n\r\n//Set True if reach Buttom//\r\n\r\nfunction handleScroll(){\r\n        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight-100) {\r\n            setIsBottom(true)\r\n         }else{\r\n             setIsBottom(false)\r\n         }\r\n}\r\n\r\n//close singel if ESC got clicked\r\n\r\nuseEffect(() => {\r\n    const close = (e) => {\r\n      if(e.keyCode === 27){\r\n       ShownItemId()\r\n      }\r\n    }\r\n    window.addEventListener('keydown', close)\r\n  return () => window.removeEventListener('keydown', close)\r\n},[])\r\n\r\n\r\n\r\n //////////////////////////////////////\r\n\r\n const transitions = useTransition(data, item => item.key, {\r\n    from: { transform: 'translate3d(0,-40px,0)' },\r\n    enter: { transform: 'translate3d(0,0px,0)' },\r\n    leave: { transform: 'translate3d(0,-40px,0)' },\r\n    })\r\n    \r\nreturn(<div>\r\n\r\n<header>\r\n   \r\n <SearchAnime change={(e)=>{handelChange(e)}}/>\r\n\r\n</header>\r\n\r\n\r\n{show ? <SingelAnime cardNumber={num} showOn={ShownItemId} /> : null }\r\n\r\n\r\n<div className=\"grid-container\">\r\n\r\n{isLoading ? 'Loading...' : data.map(e=>\r\n      <Card \r\n      key={e.id}\r\n     id={e.id}\r\n    name={e.attributes.canonicalTitle}\r\n    img={e.attributes.posterImage.small}\r\n    description={e.attributes.description}\r\n    showOn={ShownItemId} \r\n    showOff={HideItemId} \r\n\r\n    />)}\r\n\r\n</div>\r\n{ transitions.map(({ item, props, key }) =>\r\n<animated.div key={key} style={props}>{show ? <SingelAnime cardNumber={num} showOn={ShownItemId} /> : null }</animated.div>\r\n)}\r\n</div>)\r\n}\r\n    export default Movies"]},"metadata":{},"sourceType":"module"}