{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97252\\\\Desktop\\\\New-App\\\\my-app\\\\src\\\\components\\\\newTest.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Card from './cards';\n\nfunction Movies() {\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [value, SetValue] = useState('');\n  const [isBottom, setIsBottom] = useState(false);\n  const style = {\n    fontSize: \"2rem\",\n    textAlign: \"center\",\n    borderRadius: \"25px\",\n    padding: \"0% 20%\",\n    marginLeft: \"19%\"\n  };\n  const LISTED_API = `https://kitsu.io/api/edge/anime?page[limit]=20&page[offset]=$`;\n  const SEARCH_API = `https://kitsu.io/api/edge/anime?filter[text]=$`;\n  useEffect(() => {\n    readData(LISTED_API);\n  }, []);\n\n  const readData = API => {\n    fetch(API).then(res => res.json()).then(data => {\n      setData(data.data);\n    }).then(setIsLoading(false));\n  };\n\n  function handelChange(e) {\n    const valuer = e.target.value;\n    SetValue(valuer);\n    readData(SEARCH_API + valuer);\n\n    if (!valuer) {\n      readData(LISTED_API);\n    }\n  }\n\n  var CheckIfScrollBottom = debouncer(function () {\n    if (getDocHeight() == getScrollXY()[1] + window.innerHeight) {\n      console.log('Bottom!');\n    }\n  }, 500);\n  document.addEventListener('scroll', CheckIfScrollBottom);\n\n  function debouncer(a, b, c) {\n    var d;\n    return function () {\n      var e = this,\n          f = arguments,\n          g = function () {\n        d = null, c || a.apply(e, f);\n      },\n          h = c && !d;\n\n      clearTimeout(d), d = setTimeout(g, b), h && a.apply(e, f);\n    };\n  }\n\n  function getScrollXY() {\n    var a = 0,\n        b = 0;\n    return \"number\" == typeof window.pageYOffset ? (b = window.pageYOffset, a = window.pageXOffset) : document.body && (document.body.scrollLeft || document.body.scrollTop) ? (b = document.body.scrollTop, a = document.body.scrollLeft) : document.documentElement && (document.documentElement.scrollLeft || document.documentElement.scrollTop) && (b = document.documentElement.scrollTop, a = document.documentElement.scrollLeft), [a, b];\n  }\n\n  function getDocHeight() {\n    var a = document;\n    return Math.max(a.body.scrollHeight, a.documentElement.scrollHeight, a.body.offsetHeight, a.documentElement.offsetHeight, a.body.clientHeight, a.documentElement.clientHeight);\n  }\n\n  useEffect(() => {\n    document.addEventListener('scroll', CheckIfScrollBottom);\n    ;\n    return () => document.RemoveEventListener('scroll', CheckIfScrollBottom);\n    ;\n  }, []);\n\n  function handleScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      setIsBottom(true);\n    }\n\n    console.log(isBottom);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    style: style,\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Search...\",\n    onChange: e => {\n      handelChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }\n  }, value)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 1\n    }\n  }, isLoading ? 'Loading...' : data.map(e => /*#__PURE__*/React.createElement(Card, {\n    key: e.id,\n    id: e.id,\n    name: e.attributes.canonicalTitle,\n    img: e.attributes.posterImage.small,\n    description: e.attributes.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }))));\n}\n\nexport default Movies;","map":{"version":3,"sources":["C:/Users/97252/Desktop/New-App/my-app/src/components/newTest.jsx"],"names":["React","useState","useEffect","Card","Movies","data","setData","isLoading","setIsLoading","value","SetValue","isBottom","setIsBottom","style","fontSize","textAlign","borderRadius","padding","marginLeft","LISTED_API","SEARCH_API","readData","API","fetch","then","res","json","handelChange","e","valuer","target","CheckIfScrollBottom","debouncer","getDocHeight","getScrollXY","window","innerHeight","console","log","document","addEventListener","a","b","c","d","f","arguments","g","apply","h","clearTimeout","setTimeout","pageYOffset","pageXOffset","body","scrollLeft","scrollTop","documentElement","Math","max","scrollHeight","offsetHeight","clientHeight","RemoveEventListener","handleScroll","scrollY","map","id","attributes","canonicalTitle","posterImage","small","description"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport Card from './cards'\r\n\r\n\r\nfunction Movies(){\r\n\r\nconst [data , setData] = useState([])\r\nconst [isLoading , setIsLoading] = useState(true)\r\nconst [value , SetValue] = useState('')\r\nconst [isBottom, setIsBottom] = useState(false);\r\n\r\nconst style={\r\n    fontSize: \"2rem\", \r\n    textAlign: \"center\" ,\r\n    borderRadius:\"25px\",\r\n    padding : \"0% 20%\" ,\r\n    marginLeft:\"19%\"\r\n}\r\n\r\n\r\nconst LISTED_API= `https://kitsu.io/api/edge/anime?page[limit]=20&page[offset]=$`\r\nconst SEARCH_API = `https://kitsu.io/api/edge/anime?filter[text]=$`\r\n\r\n\r\n\r\n\r\nuseEffect(()=>{\r\n        readData(LISTED_API)    \r\n    \r\n},[])\r\n\r\n\r\nconst readData = (API)=> {\r\n    fetch(API)\r\n     .then((res)=>res.json())\r\n     .then((data)=>{\r\n         setData(data.data)\r\n        })\r\n     .then(setIsLoading(false))\r\n }\r\n\r\n \r\nfunction handelChange(e){\r\n    const valuer = e.target.value\r\n        SetValue(valuer)\r\n        readData(SEARCH_API+valuer)\r\n\r\n        if (!valuer){\r\n            readData(LISTED_API)\r\n        }\r\n\r\n    \r\n}\r\n\r\n\r\nvar CheckIfScrollBottom = debouncer(function() {\r\n    if(getDocHeight() == getScrollXY()[1] + window.innerHeight) {\r\n       console.log('Bottom!');\r\n    }\r\n},500);\r\n\r\ndocument.addEventListener('scroll',CheckIfScrollBottom);\r\n\r\nfunction debouncer(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}\r\nfunction getScrollXY(){var a=0,b=0;return\"number\"==typeof window.pageYOffset?(b=window.pageYOffset,a=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(b=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft),[a,b]}\r\nfunction getDocHeight(){var a=document;return Math.max(a.body.scrollHeight,a.documentElement.scrollHeight,a.body.offsetHeight,a.documentElement.offsetHeight,a.body.clientHeight,a.documentElement.clientHeight)}\r\n\r\n\r\nuseEffect(() => {\r\n    document.addEventListener('scroll',CheckIfScrollBottom);;\r\n    return () => document.RemoveEventListener('scroll',CheckIfScrollBottom);;\r\n  }, []);\r\n\r\nfunction handleScroll(){\r\n\r\n    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight){\r\n        setIsBottom(true);\r\n      }\r\n\r\nconsole.log(isBottom)\r\n\r\n\r\n\r\n}\r\n    \r\n\r\nreturn(<div>\r\n\r\n<header>\r\n\r\n   <input style={style} type=\"text\" name=\"name\" placeholder=\"Search...\" onChange={(e)=>{handelChange(e)}} />\r\n   \r\n   <h1>{value}</h1>\r\n\r\n</header>\r\n\r\n<div className=\"grid-container\">\r\n\r\n{isLoading ? 'Loading...' : data.map(e=>\r\n      <Card \r\n      key={e.id}\r\n     id={e.id}\r\n    name={e.attributes.canonicalTitle}\r\n    img={e.attributes.posterImage.small}\r\n    description={e.attributes.description}/>     \r\n       \r\n    )}\r\n\r\n</div>\r\n\r\n\r\n</div>)\r\n}\r\n    export default Movies"]},"metadata":{},"sourceType":"module"}